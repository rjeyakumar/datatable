<table class="table table-cxo">
  <thead>
    <tr>
      <th ng-repeat="headerCol in orderBook.columns" colspan="{{headerCol.subColumns ?  headerCol.subColumns.length : 0}}" rowspan="{{headerCol.subColumns ? 1 : 2}}">{{headerCol.name}}</th>
    </tr>
    <tr ng-if="orderBook.subColumns.length > 0">
      <th ng-data="{{subHeaderCol}}" ng-repeat="subHeaderCol in orderBook.subColumns">{{subHeaderCol.name}}</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat-start="account in orderBook.data">
      <td ng-if="col.key" ng-repeat="col in orderBook.rows">
        {{account.account[col.key]}}
      </td>
    </tr>
    <tr ng-repeat="agreement in account.agreement">
      <td ng-if="col.key" ng-repeat="col in orderBook.rows">
        <span>{{agreement[col.key]}}</span>
      </td>
    </tr>
    <tr ng-repeat-end ng-repeat="upside in account.upside">
      <td ng-if="col.key" ng-repeat="col in orderBook.rows">
        <span ng-hide="$parent.$parent.$parent.$index == orderBook.selectedInputField[0] && $parent.$parent.$index == orderBook.selectedInputField[1] && $index == orderBook.selectedInputField[2]">
          {{upside[col.key]}}
          <a id="{{$parent.$parent.$parent.$index}}-{{$parent.$parent.$index}}-{{$index}}" href="glyphicon glyphicon-pencil" ng-click="orderBook.editHandler($event, $parent.$parent.$parent.$index, $parent.$parent.$index, $index)">edit</a>
        </span>
        <input ng-if="$parent.$parent.$parent.$index == orderBook.selectedInputField[0] && $parent.$parent.$index == orderBook.selectedInputField[1] && $index == orderBook.selectedInputField[2]"
          type="text" value="{{upside[col.key]}}" />
      </td>
    </tr>
  </tbody>
</table>