<table class="table table-cxo">
  <thead>
    <tr ng-data="{{orderBook.subColumns}}">
      <th ng-if="headerCol.isVisible" ng-repeat="headerCol in orderBook.columns" colspan="{{headerCol.subColumns ?  headerCol.subColumns.length : 0}}"
        rowspan="{{headerCol.subColumns ? 1 : 2}}">{{headerCol.name}}</th>
    </tr>
    <tr ng-if="orderBook.subColumns.length > 0">
      <th ng-data="{{subHeaderCol}}" ng-if="subHeaderCol.isVisible" ng-repeat="subHeaderCol in orderBook.subColumns">{{subHeaderCol.name}}</th>
    </tr>
  </thead>
  <tbody ng-data="{{orderBook.data}}">
    <tr ng-repeat-start="account in orderBook.data">
      <td ng-if="col.key" ng-repeat="col in orderBook.rows">
        {{account.account[col.key]}}
      </td>
    </tr>
    <tr ng-data="{{account.agreement}}" ng-repeat="agreement in account.agreement">
      <td ng-if="col.key" ng-repeat="col in orderBook.rows">
        {{agreement[col.key]}}
      </td>
    </tr>
    <tr ng-repeat-end ng-repeat="upside in account.upside">
      <td ng-if="col.key" ng-repeat="col in orderBook.rows">
        {{upside[col.key]}}
      </td>
    </tr>
    <!-- <tr ng-if="!row.isEditable" ng-repeat-start="row in orderBook.data">
      <td ng-if="col.key" ng-repeat="col in orderBook.rows">
        <button ng-click="orderBook.filterHandler()" ng-if="$parent.$index === 0 && $parent.$parent.$index === orderBook.data.length - 1 && orderBook.type === 'fixed'">edit</button> {{row[col.key]}}</td>
    </tr>
    <tr ng-if="row.isEditable" ng-repeat-end>
      <td ng-if="col.key" ng-repeat="col in orderBook.rows">
        <button ng-click="orderBook.filterHandler()" ng-if="$parent.$index === 0 && $parent.$parent.$index === orderBook.data.length - 1 && orderBook.type === 'fixed'">edit</button>
        <input type="text" />
      </td>
    </tr> -->
  </tbody>
</table>